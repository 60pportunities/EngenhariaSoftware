<!DOCTYPE html><html class=no-js lang=en> <head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Documentação 60pportunities" name=description><meta content="Horacio Vasconcellos" name=author><link href=https://60pportunities.com.br/Observabilidade/Introdu%C3%A7%C3%A3o/ rel=canonical><link href=../../img/favicon.ico rel=icon><meta content="mkdocs-1.6.1, mkdocs-material-9.6.11" name=generator><title>Introdução - 60portunities</title><link href=../../assets/stylesheets/main.4af4bdda.min.css rel=stylesheet><link href=../../assets/stylesheets/palette.06af60db.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href=../../css/timeago.css rel=stylesheet><link href=../../styles/app-theme.css rel=stylesheet><link href=https://unpkg.com/mermaid@8.5.1/dist/mermaid.css rel=stylesheet><link href=../../styles/tablesort.css rel=stylesheet><link href=../../styles/60pthemas.css rel=stylesheet><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-horacio"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-horacio",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-horacio",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script><link href=../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../assets/javascripts/glightbox.min.js></script></head> <body data-md-color-accent=purple data-md-color-primary=deep-purple data-md-color-scheme=default dir=ltr> <input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox> <input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a class=md-skip href=#monitoramento> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav aria-label=Header class="md-header__inner md-grid"> <a aria-label=60portunities class="md-header__button md-logo" data-md-component=logo href=../.. title=60portunities> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 60portunities </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Introdução </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input aria-label="Azul da cor do mar" class=md-option data-md-color-accent=purple data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary=deep-purple data-md-color-scheme=default id=__palette_0 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_1 hidden title="Azul da cor do mar"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg> </label> <input aria-label="Rock and Roll" class=md-option data-md-color-accent=deep-purple data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary=red data-md-color-scheme=default id=__palette_1 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_0 hidden title="Rock and Roll"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input aria-label=Search autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=Search required spellcheck=false type=text> <label class="md-search__icon md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav aria-label=Search class=md-search__options> <a aria-label=Share class="md-search__icon md-icon" data-clipboard data-clipboard-text data-md-component=search-share href=javascript:void(0) tabindex=-1 title=Share> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg> </a> <button aria-label=Clear class="md-search__icon md-icon" tabindex=-1 title=Clear type=reset> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix tabindex=0> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a class=md-source data-md-component=source href=https://github.com/60pportunities/ title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg> </div> <div class=md-source__repository> documentacao </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label=Navigation class="md-nav md-nav--primary" data-md-level=0> <label class=md-nav__title for=__drawer> <a aria-label=60portunities class="md-nav__button md-logo" data-md-component=logo href=../.. title=60portunities> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg> </a> 60portunities </label> <div class=md-nav__source> <a class=md-source data-md-component=source href=https://github.com/60pportunities/ title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg> </div> <div class=md-source__repository> documentacao </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../..> <span class=md-ellipsis> Inicio </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#monitoramento> <span class=md-ellipsis> Monitoramento </span> </a> <nav aria-label=Monitoramento class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#prometheus-oracledb> <span class=md-ellipsis> Prometheus OracleDB </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#logs-de-eventos> <span class=md-ellipsis> Logs de eventos </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#logs> <span class=md-ellipsis> Logs </span> </a> <nav aria-label=Logs class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#por-que-o-registro-e-importante> <span class=md-ellipsis> Por que o registro é importante? </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#logs-do-linuxmacos> <span class=md-ellipsis> Logs do Linux/MacOS </span> </a> <nav aria-label="Logs do Linux/MacOS" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#syslog> <span class=md-ellipsis> SYSLOG </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#systemd> <span class=md-ellipsis> SystemD </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#apache-logging> <span class=md-ellipsis> Apache Logging </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#rsyslog> <span class=md-ellipsis> Rsyslog </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#fluentd> <span class=md-ellipsis> Fluentd </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#logrotate> <span class=md-ellipsis> Logrotate </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#alguns-exemplos> <span class=md-ellipsis> Alguns exemplos </span> </a> <nav aria-label="Alguns exemplos" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#plsql> <span class=md-ellipsis> PL/SQL </span> </a> <nav aria-label=PL/SQL class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#pacote-dbms_errlog> <span class=md-ellipsis> Pacote DBMS_ERRLOG </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#pacote-pg_60opt_utilitario_erro> <span class=md-ellipsis> Pacote PG_60OPT_UTILITARIO_ERRO </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#observabilidade-no-banco-de-dados> <span class=md-ellipsis> Observabilidade no Banco De Dados </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#observabilidade-de-dados-versus-observabilidade-de-banco-de-dados> <span class=md-ellipsis> Observabilidade de Dados versus Observabilidade de Banco de Dados </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#metricas-de-dados> <span class=md-ellipsis> Métricas de Dados </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#metricas-para-seguranca-de-banco-de-dados> <span class=md-ellipsis> Métricas para segurança de Banco de Dados </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#metricas-para-desempenho-do-banco-de-dados> <span class=md-ellipsis> Métricas para Desempenho do Banco de Dados </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h2 id=monitoramento>Monitoramento<a class=headerlink href=#monitoramento title="Permanent link">¶</a></h2> <pre class=mermaid><code>
graph TD

NIVL00[Operação do Produto] --&gt; NIVL01[Usabilidade]

NIVL00[Operação do Produto] --&gt; NIVL02[Confiabilidade]

NIVL00[Operação do Produto] --&gt; NIVL03[Eficiência]

NIVL01 --&gt; NIVL011[Comunicatividade]

NIVL01 --&gt; NIVL012[Acessibilidade]

NIVL02 --&gt; NIVL021[Precisão]

NIVL02 --&gt; NIVL022[Consistência]

NIVL02 --&gt; NIVL023[Completude]

NIVL03 --&gt; NIVL031[Eficiência do Dispositivo]

NIVL03 --&gt; NIVL032[Acessibilidade]

NIVL011 --&gt; Métricas

NIVL012 --&gt; Métricas

NIVL021 --&gt; Métricas

NIVL022 --&gt; Métricas

NIVL023 --&gt; Métricas

NIVL031 --&gt; Métricas

NIVL032 --&gt; Métricas
</code></pre> <pre class=mermaid><code>
graph TD

NIVL10[Revisão do Produto] --&gt; NIVL11[Reusabilidade]

NIVL10[Revisão do Produto] --&gt; NIVL12[Manutenção]

NIVL10[Revisão do Produto] --&gt; NIVL13[Portabilidade]

NIVL10[Revisão do Produto] --&gt; NIVL14[Testabilidade]

NIVL11 --&gt; NIVL111[Precisão]

NIVL11 --&gt; NIVL112[Estruturação]

NIVL11 --&gt; NIVL113[Concisão]

NIVL11 --&gt; NIVL114[Independência de Dispositivo]

NIVL11 --&gt; NIVL115[Legibilidade]

NIVL11 --&gt; NIVL116[Autodescrição]

NIVL11 --&gt; NIVL117[Rastreabilidade]

NIVL12 --&gt; NIVL121[Estruturação]

NIVL12 --&gt; NIVL122[Concisão]

NIVL13 --&gt; NIVL131[Completude]

NIVL13 --&gt; NIVL132[Independência de Dispositivo]

NIVL14 --&gt; NIVL141[Estruturação]

NIVL14 --&gt; NIVL142[Legitimidade]

NIVL14 --&gt; NIVL143[Rastreabilidade]

NIVL111 --&gt; MET[Métricas]

NIVL112 --&gt; MET[Métricas]

NIVL113 --&gt; MET[Métricas]

NIVL114 --&gt; MET[Métricas]

NIVL115 --&gt; MET[Métricas]

NIVL116 --&gt; MET[Métricas]

NIVL117 --&gt; MET[Métricas]

NIVL121 --&gt; MET[Métricas]

NIVL122 --&gt; MET[Métricas]

NIVL131 --&gt; MET[Métricas]

NIVL132 --&gt; MET[Métricas]

NIVL141 --&gt; MET[Métricas]

NIVL142 --&gt; MET[Métricas]

NIVL143 --&gt; MET[Métricas]
</code></pre> <p>Prometheus é um sistema de código aberto para monitoramento e ferramenta de alerta. É desenvolvido na linguagem GO.</p> <p>Prometheus coleta métricas de destinos configurados em intervalos dados, avalia expressões de regras, exibe os resultados e pode acionar alertas se alguma condição for observada como verdadeira. Tem dados simples, mas poderosos modelo e uma linguagem de consulta que permite analisar como seus aplicativos e infra estrutura estão funcionando.</p> <p>O modelo de dados identifica cada série temporal não apenas com um nome, mas também com um conjunto não ordenado de pares de valores-chave chamados rótulos.</p> <p>Um único servidor Prometheus pode ingerir milhões de amostras por segundo.</p> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=80% href=../../img/prometheus-architecture.png><img alt height=300 src=../../img/prometheus-architecture.png style="display: block; margin: 0 auto" width=600></a></p> <p>Prometeu foi construído para auxiliar no desenvolvimento de software,</p> <p>operadores e administradores na operação de produção, como os aplicativos, ferramentas, bancos de dados e redes que dão suporte a sites populares.</p> <details class=tip open=open> <summary>Monitoramento porque ?</summary> </details> <div class="tabbed-set tabbed-alternate" data-tabs=1:1><input checked=checked id=monitoramento-configuração-básica name=__tabbed_1 type=radio><div class=tabbed-labels><label for=monitoramento-configuração-básica>Configuração Básica</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Alerta: Nós queremos que o sistema de monitoramento <strong>CHAME</strong> uma pessoa para dar uma olhada;</p> <p>Depuração: Já que você veio, agora quem chegou, precisa investigar para determinar a causa raiz e resolver o incidente.</p> <p>Tendencias: Alimentam decisões de design e processos como planejamento de capacidade.</p> <p>Canalização: No fim de o dia em que todos os sistemas de monitoramento são canais de processamento de dados.</p> <table> <thead> <tr> <th>Tipo</th> <th>Definição</th> </tr> </thead> <tbody> <tr> <td>Registros de depuração</td> <td>Eles são frequentemente usados apenas em situações de depuração muito restritas e tendem a criação de perfil devido ao seu volume de dados.</td> </tr> <tr> <td>Logs de aplicativos</td> <td>Registros lidos por um Administrador TI (DBA), deve-se <strong>evitar</strong> mais do que alguns por minuto em operações normais.</td> </tr> <tr> <td>Solicitar logs</td> <td>Registros que podem ser processados para implementar recursos voltados para o usuário ou apenas para otimizações internas.</td> </tr> <tr> <td>Registros de transações</td> <td>Eles são os registros críticos de negócios que você deve manter seguros a todo custo, provavelmente para sempre.</td> </tr> </tbody> </table> <div class="tabbed-set tabbed-alternate" data-tabs=2:1><input checked=checked id=monitoramento-monitoramento name=__tabbed_2 type=radio><div class=tabbed-labels><label for=monitoramento-monitoramento>Monitoramento</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>A maior parte do monitoramento é sobre a mesma coisa: <strong>eventos</strong> e os eventos também têm <strong>contexto</strong>.</p> <ul> <li> <p>Observar o comportamento [não funcional] das funções de negócios / aplicativos em tempo [quase] real;</p> </li> <li> <p>Disponibilidade e saúde;</p> </li> <li> <p>Atuação;</p> </li> <li> <p>Acesso - quando e como deve ser para quem deve ser;</p> </li> <li> <p>Equipa-se com:</p> </li> <li> <p>Criação de perfil e depuração - contexto máximo para picos de atividade;</p> </li> <li> <p>Rastreamento - rastreia os caminhos da aplicação [e plataforma e infra] pilha tecnológica;</p> </li> <li> <p>Registro - por aplicativo ou saída de componente de plataforma para off-line em processamento;</p> </li> </ul> <div class="tabbed-set tabbed-alternate" data-tabs=3:1><input checked=checked id=monitoramento-definições name=__tabbed_3 type=radio><div class=tabbed-labels><label for=monitoramento-definições>Definições</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <table> <thead> <tr> <th>Tipo</th> <th>header</th> </tr> </thead> <tbody> <tr> <td>contador</td> <td>São usados principalmente para rastrear a frequência com que um determinado caminho de código é executado</td> </tr> <tr> <td>Exceções de contagem</td> <td>São usados principalmente para com a capacidade de contar exceções</td> </tr> <tr> <td>Tamanho de contagem</td> <td>Utiliza números de ponto flutuante de 64 bits para valores, então você não está limitado a incrementando contadores em um. Você pode, de fato, incrementar contadores por qualquer número negativo.</td> </tr> <tr> <td>Medidor</td> <td>Os medidores são um instantâneo de algum estado atual. Os medidores têm três métodos principais que você pode usar: iinc, dec, and set. As métricas de contador são sufixadas por _total.</td> </tr> <tr> <td>Exposicao</td> <td>O processo de disponibilização de métricas. Normalmente você expõe métricas sob o caminho/metrics.</td> </tr> </tbody> </table> <ul> <li> <p>Métricas como process_resident_memory_bytes são chamadas de medidores.</p> </li> <li> <p>Os contadores rastreiam quantos eventos aconteceram ou o tamanho total de todos os eventos (prometheus_tsdb_head_samples_appended_total);</p> </li> <li> <p>Observação: Vc poderá produze taxas ou medições temporais. <strong>rate(prometheus_tsdb_head_samples_appended_total[1m])</strong></p> </li> </ul> <div class="tabbed-set tabbed-alternate" data-tabs=4:1><input checked=checked id=monitoramento-o-que-é-necessário-para-o-monitoramento name=__tabbed_4 type=radio><div class=tabbed-labels><label for=monitoramento-o-que-é-necessário-para-o-monitoramento>O que é necessário para o monitoramento?</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <ul> <li>Reúna a métrica operacional;</li> <li>Disparar Alertas;</li> <li>Disparar Agentes Automatizados de correção;</li> <li>Para apoiar a resolução de questões (dados para análise da causa raiz);</li> <li>Para analisar tendências + efeitos / impacto da mudança.</li> </ul> <div class="tabbed-set tabbed-alternate" data-tabs=5:1><input checked=checked id=monitoramento-tipo-de-métrica name=__tabbed_5 type=radio><div class=tabbed-labels><label for=monitoramento-tipo-de-métrica>Tipo de métrica</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>HELP é uma descrição do que é a métrica, e geralmente não deve mude de raspar paras a scrape to scrape. TYPE é um de contador, medidor, resumo, histograma ou não tipado. sem tipo é usado quando você não sabe o tipo de métrica e é o padrão se nenhum tipo for especificado.</p> <ul> <li>Métricas primárias;</li> <li>Vinculado a indicadores de SLA;</li> <li>Relevante - representante dos principais indicadores de desempenho;</li> <li>Experiência do usuário final;</li> <li>Rendimento da atividade de negócios.</li> </ul> <div class="tabbed-set tabbed-alternate" data-tabs=6:1><input checked=checked id=monitoramento-métricas-secundárias name=__tabbed_6 type=radio><div class=tabbed-labels><label for=monitoramento-métricas-secundárias>Métricas secundárias</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <ul> <li>Métricas técnicas;</li> <li>Fatores de Saúde - não diretamente ligados a indicadores específicos de negócios;</li> <li>Temperatura, armazenamento, carga de rede e etc.</li> <li>Paine</li> </ul> <div class="tabbed-set tabbed-alternate" data-tabs=7:1><input checked=checked id=monitoramento-service-discovery name=__tabbed_7 type=radio><div class=tabbed-labels><label for=monitoramento-service-discovery>Service Discovery</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>O Prometheus possui integrações com muitos mecanismos de descoberta de serviço comuns,como Kubernetes, EC2 e Consul, mas não foi o foco deste trabalho.</p> <p>=== "Scraping" Prometheus faz isso enviando uma solicitação HTTP chamada de scrape. A resposta deste scraping é analisada e armazenada. Outras métricas úteis também são adicionadas, como se o scrape foi bem-sucedido e quanto tempo demorou.</p> <details class=tip open=open> <summary>Prometheus</summary> </details> <div class="tabbed-set tabbed-alternate" data-tabs=8:1><input checked=checked id=monitoramento-servidor-prometheus name=__tabbed_8 type=radio><div class=tabbed-labels><label for=monitoramento-servidor-prometheus>Servidor Prometheus</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Optei por uma instalação em /opt/prometheus, tando do server como dos exportadores.</p> <table> <thead> <tr> <th>Objetos</th> <th>Propósitos</th> <th>Serviço</th> <th>Porta</th> <th>Abrv</th> <th style="text-align: center;">Padrão</th> </tr> </thead> <tbody> <tr> <td><a href=http://192.168.56.120:9099/ >Prometheus</a></td> <td>O sistema de monitoramento Prometheus e banco de dados de séries temporais.</td> <td>prometheus.service</td> <td>9099</td> <td>srv</td> <td style="text-align: center;">9090</td> </tr> </tbody> </table> <p>Observação: Optei por uma instalação em /opt, em usuário prometheus.</p> <div class="tabbed-set tabbed-alternate" data-tabs=9:1><input checked=checked id=monitoramento-arquitetura-de-instalação name=__tabbed_9 type=radio><div class=tabbed-labels><label for=monitoramento-arquitetura-de-instalação>Arquitetura de Instalação</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <pre class=mermaid><code>
graph TD

A[opt] --&gt;B[prometheus]

B --&gt; C[prmt_abrv_versão]

B --&gt; D[latest_abrv]

B --&gt; E[conf]

B --&gt; F[data]
</code></pre> <div class="tabbed-set tabbed-alternate" data-tabs=10:1><input checked=checked id=monitoramento-pushgateway name=__tabbed_10 type=radio><div class=tabbed-labels><label for=monitoramento-pushgateway>Pushgateway</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>O Pushgateway permite que você envie métricas para empurrar o endpoint do gateway, então configuramos o prometheus para realizar scrape do gateway de push para consumir as métricas expostas no prometheus. Iremos utilizar para os Concurrents do e-Business.</p> <table> <thead> <tr> <th>Objetos</th> <th>Propósitos</th> <th>Serviço</th> <th>Porta</th> <th>Abrv</th> <th></th> </tr> </thead> <tbody> <tr> <td><a href=http://192.168.56.120:9197/metrics>pushgateway</a></td> <td>O Pushgateway é um cache de métricas para trabalhos em lote de nível de serviço.</td> <td>pushgateway.service</td> <td>9195</td> <td>pushgt</td> <td>9091</td> </tr> </tbody> </table> <pre class=mermaid><code>
graph TD



A[Concurrents] --&gt; |Single push|C[Pushgateway]

B[JOBs] --&gt; |Single push|C[Pushgateway]

D[SFTPs] --&gt; |Single push|C[Pushgateway]

E[FTPs] --&gt; |Single push|C[Pushgateway]

C --&gt; |Regular Scrape|Prometheus
</code></pre> <div class="tabbed-set tabbed-alternate" data-tabs=11:1><input checked=checked id=monitoramento-exportadores name=__tabbed_11 type=radio><div class=tabbed-labels><label for=monitoramento-exportadores>Exportadores</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Um Exportador é um software que você implanta ao lado do aplicativo que você deseja obter métricas, ou seja, ele reúne o os dados necessários do aplicativo, transforma-os no formato correto e finalmente os retorna em uma resposta a Prometeu. Podemos pensar em um exportador como um pequeno proxy um para um, convertendo dados entre a interface de métricas de um aplicativo e o formato de exposição do Prometheus.</p> <table> <thead> <tr> <th>Objetos</th> <th>Propósitos</th> <th>Serviço</th> <th>Porta</th> <th>Abrv</th> </tr> </thead> <tbody> <tr> <td><a href=http://192.168.56.120:9195/metrics>blackbox_exporter</a></td> <td>Produz métricas derivadas de protocolos como HTTP e HTTPS para determinar a disponibilidade do endpoint, o tempo de resposta e entre outros.</td> <td>blackbox_exporter.service</td> <td>9195</td> <td>blck</td> </tr> <tr> <td><a href=http://192.168.56.120:9196/metrics>memcached_exporter</a></td> <td>Exporta métricas de servidores memcached para consumo pelo Prometheus.</td> <td>memcached_exporter.service</td> <td>9196</td> <td>mencach</td> </tr> <tr> <td><a href=http://192.168.56.120:9190/metrics>node_exporter</a></td> <td>Produz métricas sobre infraestrutura, incluindo a CPU atual, memória e uso de disco, bem como estatísticas de E / S e rede, como o número de bytes lidos de um disco ou a carga média de um servidor.</td> <td>node_exporter.service</td> <td>9190</td> <td>node</td> </tr> <tr> <td>windows_exporter</td> <td>Um exportador da Prometheus para máquinas Windows.</td> <td>-</td> <td></td> <td></td> </tr> <tr> <td>gitlab-exporter</td> <td>-</td> <td>-</td> <td>-</td> <td></td> </tr> <tr> <td>Elasticsearch exporter</td> <td>-</td> <td>-</td> <td>-</td> <td></td> </tr> <tr> <td>SNMP exporter</td> <td>-</td> <td>-</td> <td>-</td> <td></td> </tr> <tr> <td>Apache exporter</td> <td>-</td> <td>-</td> <td>-</td> <td></td> </tr> <tr> <td>Jenkins exporter</td> <td>-</td> <td>-</td> <td>-</td> <td></td> </tr> <tr> <td>PostgreSQL exporter</td> <td>-</td> <td>-</td> <td>-</td> <td></td> </tr> <tr> <td>Kafka Consumer Group exporter</td> <td>-</td> <td>-</td> <td>-</td> <td></td> </tr> </tbody> </table> <div class="tabbed-set tabbed-alternate" data-tabs=12:1><input checked=checked id=monitoramento-exportador-node name=__tabbed_12 type=radio><div class=tabbed-labels><label for=monitoramento-exportador-node>Exportador Node</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Este expõe métricas no nível do kernel e da máquina em sistemas Unix, como Linux. Ele fornece todas as métricas padrão, como CPU, memória, espaço em disco, disco E/S e largura de banda da rede.</p> <p>Além disso, fornece uma infinidade de métricas adicionais exposta pelo kernel, da média de carga à temperatura da placa-mãe.</p> <p>Observação: Ele não expõe são métricas sobre processos individuais, nem</p> <p>métricas proxy de outros exportadores ou aplicativos. (rate(node_network_receive_bytes_total[1m]))</p> <div class="tabbed-set tabbed-alternate" data-tabs=13:1><input checked=checked id=monitoramento-alertas name=__tabbed_13 type=radio><div class=tabbed-labels><label for=monitoramento-alertas>Alertas</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>O Alertmanager recebe alertas dos servidores Prometheus e os transforma em notificações. As notificações podem incluir e-mail, aplicativos Slack, Teams, WhatsAPP e etc. Os alertas relacionados podem ser agregados em uma notificação.</p> <div class="tabbed-set tabbed-alternate" data-tabs=14:1><input checked=checked id=monitoramento-existem-duas-partes-no-alertmanages name=__tabbed_14 type=radio><div class=tabbed-labels><label for=monitoramento-existem-duas-partes-no-alertmanages>Existem duas partes no Alertmanages</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>A primeira adicionando regras de alerta ao Prometheus, definindo</p> <p>a lógica do que constitui um alerta.</p> <p>A segunda o Alertmanager converte alertas em notificações, como e-mails, páginas e mensagens de bate-papo.</p> <table> <thead> <tr> <th>Objetos</th> <th>Propósitos</th> <th>Serviço</th> <th>Porta</th> <th>Abrv</th> <th></th> </tr> </thead> <tbody> <tr> <td><a href=http://192.168.56.120:9193/ >Alertmanager</a></td> <td>Prometheus Alertmanager</td> <td>alertmanager.service</td> <td>9193</td> <td>alert</td> <td>9093</td> </tr> <tr> <td>Alertmanager clustering</td> <td>Prometheus Alertmanager clustering</td> <td>-</td> <td>-</td> <td>alertct</td> <td>9094</td> </tr> <tr> <td>pagerduty-exporter</td> <td>Não configurado</td> <td>pagerduty.service</td> <td>-</td> <td>pgdty</td> <td></td> </tr> </tbody> </table> <p>Observação: Pode haver personalização de <a href=https://golang.org/pkg/text/template/ >templates</a></p> <p>Observação:</p> <ul> <li> <p>Os serviços estão no /etc/systemd/system/.</p> </li> <li> <p>O link simbólico <strong>latest_abrev</strong> , apontará para a última versão instalada e possivelmente não haverá quebra das scripts.</p> </li> </ul> <div class="tabbed-set tabbed-alternate" data-tabs=15:1><input checked=checked id=monitoramento-monitoramento-mysql name=__tabbed_15 type=radio><div class=tabbed-labels><label for=monitoramento-monitoramento-mysql>Monitoramento MySQL</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Não sei quais bancos são usados o MariaDB e/ou MySQL.. Mas a história é a mesma da Oracle.</p> <table> <thead> <tr> <th>Objetos</th> <th>Propósitos</th> <th>Serviço</th> <th>Porta</th> <th>Abrv</th> </tr> </thead> <tbody> <tr> <td><a href=http://192.168.56.120:9194/metrics>mysqld_exporter</a></td> <td>Produz métricas relacionadas a um servidor MySQL, como o número de consultas executadas, tempo médio de resposta da consulta e status de replicação do cluster.</td> <td>mysql_exporter.service</td> <td>9194</td> <td>mysqldb</td> </tr> </tbody> </table> <div class="tabbed-set tabbed-alternate" data-tabs=16:1><input checked=checked id=monitoramento-monitoramento-oracle name=__tabbed_16 type=radio><div class=tabbed-labels><label for=monitoramento-monitoramento-oracle>Monitoramento Oracle</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Os usuários têm relatado erros causados ​​por consultas lentas ou demoradas no banco de dados, levando ao ambiente "TOPAR" 100%.</p> <p>Os desenvolvedores não conseguem reproduzir o problema, por estes ambientes não são concorrentes, logo as perguntas são passíveis de serem feitas:</p> <ul> <li> <p>É causado pela falta de recursos?</p> </li> <li> <p>Mal dimensionamento de Sizing ?</p> </li> <li> <p>Péssima estrutura do hosting?</p> </li> <li> <p>Arquitetura descentralizada desestruturada ?</p> </li> <li> <p>Degradação de Performance</p> </li> <li> <p>Revisão dos Parâmetros de Inicialização do Banco de Dados;</p> </li> <li> <p>Revisão da System Managed Undo;</p> </li> <li> <p>Revisão da System Managed Undo;</p> </li> <li> <p>Revisão da Temporary Tablespace;</p> </li> <li> <p>Revisão de Clean-ups e execução de Estatisticas;</p> </li> <li> <p>Consultas mal otimizadas retornando muitos resultados?</p> </li> <li> <p>etc.</p> </li> </ul> <p>Este é um ponto a ser levantado pelo Engenheiro de Confiabilidade da Instituição (SRE).</p> <p>Há sempre a discussão sobre a necessidade em <strong>MONITORAR</strong> com alertas automáticos, para que a equipe de SRE possa solucionar esses erros quando eles surgirem e cumprir seus objetivos de nível de serviço.</p> <p>Além disso, um melhor monitoramento do banco de dados Oracle ajudará a avaliar o tamanho das tabelas e espaços de tabela e revelará onde o crescimento está acontecendo.</p> <p>O Oracle Instant Client é uma implementação distribuída gratuitamente de um cliente Oracle.</p> <p>| RPM | Instalado |</p> <p>| ----- | ------ |</p> <p>| JDBC | oracle-instantclient-jdbc-21.1.0.0.0-1.x86_64.rpm |</p> <p>| Devel | oracle-instantclient-devel-21.1.0.0.0-1.x86_64.rpm |</p> <p>| SQLPlus | oracle-instantclient-sqlplus-21.1.0.0.0-1.x86_64.rpm |</p> <p>| Drives | oracle-instantclient-basic-21.1.0.0.0-1.x86_64.rpm |</p> <h3 id=prometheus-oracledb>Prometheus OracleDB<a class=headerlink href=#prometheus-oracledb title="Permanent link">¶</a></h3> <table> <thead> <tr> <th>Objetos</th> <th>Propósitos</th> <th>Serviço</th> <th>Porta</th> <th>Abrv</th> </tr> </thead> <tbody> <tr> <td><a href=http://http://192.168.56.120:9161/metrics>oracledb_exporter</a></td> <td>Produz métricas relacionadas ao Banco de Dados - Oracle, como o número de consultas executadas, tempo médio de resposta da consulta e status de replicação do cluster.</td> <td>oracledb_exporter.service</td> <td>9194</td> <td>oradb</td> </tr> </tbody> </table> <blockquote> <p><a href=https://github.com/iamseth/oracledb_exporter/releases>https://github.com/iamseth/oracledb_exporter/releases</a></p> </blockquote> <p>Observação: <strong>Default port allocations - <a href=https://github.com/prometheus/prometheus/wiki/Default-port-allocations>https://github.com/prometheus/prometheus/wiki/Default-port-allocations</a></strong></p> <div class="tabbed-set tabbed-alternate" data-tabs=17:1><input checked=checked id=prometheus-oracledb-o-que-devo-instrumentar name=__tabbed_17 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-o-que-devo-instrumentar>O que devo instrumentar</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Em linhas gerais existem três tipos de serviços, cada um com suas próprias métricas principais:</p> <ul> <li> <p>Sistemas de serviço online;</p> </li> <li> <p>servidores da web e bancos de dados</p> </li> <li> <p>Taxa de solicitação, latência e Taxa de erro.</p> </li> <li> <p>Sistemas de serviço offline;</p> </li> <li> <p>Agrupamento e estágios em um pipeline com filas;</p> </li> <li> <p>Quantidade de trabalho na fila;</p> </li> <li> <p>Quanto trabalho está em andamento;</p> </li> <li> <p>Trabalhos em lote.</p> </li> <li> <p>Similar ao Serviço offline</p> </li> <li> <p>Registrar quanto tempo levou para ser executado;</p> </li> <li> <p>Hora em que o trabalho foi bem-sucedido pela última vez;</p> </li> <li> <p>Idempotência para trabalhos em lote</p> </li> </ul> <div class="tabbed-set tabbed-alternate" data-tabs=18:1><input checked=checked id=prometheus-oracledb-em-tempo name=__tabbed_18 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-em-tempo>Em tempo</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Você também precisará instalar a biblioteca cliente Python mais recente.</p> <p>Isso pode ser feito com</p> <p>pip install prometheus_client</p> <details class=tip open=open> <summary>Nomenclaturas</summary> </details> <div class="tabbed-set tabbed-alternate" data-tabs=19:1><input checked=checked id=prometheus-oracledb-como-devo-nomear-minhas-métricas name=__tabbed_19 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-como-devo-nomear-minhas-métricas>Como devo nomear minhas métricas</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Bem, pelo que pude perceber a estrutura geral de um nome de métrica geralmente é <strong>biblioteca_nome_unidade_sufixo</strong>.</p> <p>Devem começar com uma letra e podem ser seguidos por qualquer</p> <p>número de letras, números e sublinhados.</p> <div class="tabbed-set tabbed-alternate" data-tabs=20:1><input checked=checked id=prometheus-oracledb-qual-o-estilo-camel-pascal-snake-ou-kebab-case name=__tabbed_20 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-qual-o-estilo-camel-pascal-snake-ou-kebab-case>Qual o estilo? Camel, Pascal, Snake ou Kebab Case?</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>A convenção é usar SNAKE CASE para nomes de métricas cada componente do nome deve ser minúsculo e separado por um sublinhado.</p> <div class="tabbed-set tabbed-alternate" data-tabs=21:1><input checked=checked id=prometheus-oracledb-sufixos name=__tabbed_21 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-sufixos>Sufixos</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Os sufixos _total, _count, _sum e _bucket são usados pelas métricas de contador, resumo e histograma. Além de sempre ter um sufixo _total nos contadores, você deve evitar colocar esses sufixos no final dos nomes das métricas para evitar confusão.</p> <div class="tabbed-set tabbed-alternate" data-tabs=22:1><input checked=checked id=prometheus-oracledb-unidades name=__tabbed_22 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-unidades>Unidades</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Você deve preferir usar unidades básicas não fixadas, como segundos, bytes e proporções. Você deve sempre incluir a unidade de seu métrica no nome.</p> <div class="tabbed-set tabbed-alternate" data-tabs=23:1><input checked=checked id=prometheus-oracledb-nomes name=__tabbed_23 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-nomes>Nomes</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Os nomes geralmente vão de menos para mais específicos conforme você vai da esquerda para a direita</p> <div class="tabbed-set tabbed-alternate" data-tabs=24:1><input checked=checked id=prometheus-oracledb-por-fim name=__tabbed_24 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-por-fim>Por fim</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>O software não restringe o numero de métricas, contadores e etc, porem, em algum ponto, os custos operacionais e de recursos superam os benefícios para certas estratégias.</p> <details class=tip open=open> <summary>Dashboard</summary> </details> <div class="tabbed-set tabbed-alternate" data-tabs=25:1><input checked=checked id=prometheus-oracledb-dashboarding-com-grafana name=__tabbed_25 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-dashboarding-com-grafana>Dashboarding com Grafana</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Grafana é uma ferramenta com a qual você pode construir tais painéis para muitos diferentes sistemas de monitoramento e não monitoramento, incluindo Graphite, InfluxDB, Elastic-Search e PostgreSQL</p> <div class="tabbed-set tabbed-alternate" data-tabs=26:1><input checked=checked id=prometheus-oracledb-monitoramento-da-infraestrutura name=__tabbed_26 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-monitoramento-da-infraestrutura>Monitoramento da infraestrutura</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>A Arquitetura Prometheus cada um dos seus serviços irá expor suas próprias métricas, usando um exportador.</p> <p>O exportador do Node é projetado para ser executado como um usuário não root e deve ser executado diretamente na máquina da mesma forma que você executa um daemon do sistema como sshd ou cron.</p> <div class="tabbed-set tabbed-alternate" data-tabs=27:1><input checked=checked id=prometheus-oracledb-monitoramento-de-servidores name=__tabbed_27 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-monitoramento-de-servidores>Monitoramento de Servidores</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>| Métrica | Descrição |</p> <p>| ------ | ------ |</p> <p>| node_cpu_seconds_total | contador que indica quanto tempo cada CPU gastou em cada modo |</p> <p>| node_filesystem_ | Expõe as métricas sobre os sistemas de arquivos, assim como você obteria do comando df |</p> <p>| node_disk_io | Expõe as métricas de E/S de disco de /proc/diskstats |</p> <p>| node_network | Expõe as métricas de rede com um rótulo de dispositivo |</p> <p>| node_memory_ | Expõe as métricas relacionadas memória padrão |</p> <p>| node_hwmon_ | Expõe as métricas como temperatura e velocidades do ventilador |</p> <p>| node_boot_time | Acheio meio confuso, é um pouco confuso, fornece métricas de /proc/stat |</p> <p>| node_uname_info | É o nome do host da máquina, que pode ser diferente do rótulo de destino da instância |</p> <p>| node_load | Expõe o número de processos esperando em a fila de execução ou aqueles que aguardam E/S. |</p> <div class="tabbed-set tabbed-alternate" data-tabs=28:1><input checked=checked id=prometheus-oracledb-monitoramento-de-e-business name=__tabbed_28 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-monitoramento-de-e-business>Monitoramento de e-Business</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <table> <thead> <tr> <th>Métrica</th> <th style="text-align: right;">Tempo</th> <th>Local</th> </tr> </thead> <tbody> <tr> <td>Tempo Médio de Execução</td> <td style="text-align: right;">1</td> <td></td> </tr> <tr> <td>Tempo Máximo de Execução</td> <td style="text-align: right;">1</td> <td></td> </tr> <tr> <td>Solicitações concluídas com sucesso</td> <td style="text-align: right;">1</td> <td></td> </tr> <tr> <td>Solicitações concluídas com erros</td> <td style="text-align: right;">1</td> <td></td> </tr> <tr> <td>Solicitações concluídas com Advrtencia</td> <td style="text-align: right;">1</td> <td></td> </tr> <tr> <td>Nº de solicitações incompletas por status</td> <td style="text-align: right;">1</td> <td></td> </tr> <tr> <td>Solicitações simultâneas inativas</td> <td style="text-align: right;">15</td> <td></td> </tr> <tr> <td>Solicitações simultâneas inativas (em espera)</td> <td style="text-align: right;"></td> <td></td> </tr> <tr> <td>Solicitações simultâneas pendentes (normal)</td> <td style="text-align: right;"></td> <td></td> </tr> <tr> <td>Execução de solicitações simultâneas</td> <td style="text-align: right;"></td> <td></td> </tr> <tr> <td>Solicitações simultâneas programadas</td> <td style="text-align: right;"></td> <td></td> </tr> <tr> <td>Nº de solicitações concluídas por hora por status</td> <td style="text-align: right;">60 Minutos</td> <td></td> </tr> <tr> <td>Solicitações simultâneas concluídas com erro</td> <td style="text-align: right;"></td> <td></td> </tr> <tr> <td>Solicitações simultâneas concluídas com aviso</td> <td style="text-align: right;"></td> <td></td> </tr> <tr> <td>Taxa de erros de solicitações simultâneas (%)</td> <td style="text-align: right;"></td> <td></td> </tr> <tr> <td>Taxa de solicitações bem-sucedidas de solicitações simultâneas (%)</td> <td style="text-align: right;"></td> <td></td> </tr> <tr> <td>Nível de tolerância para solicitação de longa duração</td> <td style="text-align: right;"></td> <td></td> </tr> <tr> <td>Tolerância no tempo médio de execução (%)</td> <td style="text-align: right;"></td> <td></td> </tr> </tbody> </table> <div class="tabbed-set tabbed-alternate" data-tabs=29:1><input checked=checked id=prometheus-oracledb-file-integrity-monitoring name=__tabbed_29 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-file-integrity-monitoring>File Integrity Monitoring</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>File Integrity Monitoring (FIM) ou monitoramento de integridade de arquivos, no português, é um controle essencial de segurança que analisa e alerta alterações suspeitas na integridade de arquivos de configuração e sistema, com o objetivo de identificar possíveis ataques cibernéticos. O cenário de TI se alterou drasticamente, com as organizações adotando massivamente a cultura de Agile e DevOps, arquitetura de microsserviços, "containerização" e migração de aplicações para a nuvem. Nesse novo contexto, com os containers sendo efêmeros na sua essência e com novas versões de aplicações sendo entregues mais frequentemente, a quantidade de alterações aumentou consideravelmente. Seria <strong>FIM</strong> ainda uma solução relevante de segurança? Como evitar que as mudanças tão frequentes causem a chamada "Fadiga de Alerta", que é perigosa porque incidentes legítimos de segurança podem ser ignorados?</p> <details class=tip open=open> <summary>Sinais Dourados</summary> </details> <p>Os quatro sinais de ouro de monitoramento são latência, tráfego, erros e saturação. Se você só pode medir quatro métricas de seu sistema voltado para o usuário, concentre-se nessas quatro.</p> <div class="tabbed-set tabbed-alternate" data-tabs=30:1><input checked=checked id=prometheus-oracledb-latência name=__tabbed_30 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-latência>Latência</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>O tempo que leva para atender a uma solicitação. É importante distinguir entre a latência de solicitações bem-sucedidas e a latência de solicitações com falha. Por exemplo, um erro HTTP 500 disparado devido à perda de conexão com um banco de dados ou outro back-end crítico pode ser atendido muito rapidamente; no entanto, como um erro HTTP 500 indica uma falha na solicitação, fatorar 500s em sua latência geral pode resultar em cálculos enganosos. Por outro lado, um erro lento é ainda pior do que um erro rápido! Portanto, é importante rastrear a latência do erro, em vez de apenas filtrar os erros.</p> <div class="tabbed-set tabbed-alternate" data-tabs=31:1><input checked=checked id=prometheus-oracledb-tráfego name=__tabbed_31 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-tráfego>Tráfego</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Uma medida de quanta demanda está sendo colocada em seu sistema, medida em uma métrica específica do sistema de alto nível. Para um serviço da web, essa medida geralmente é de solicitações HTTP por segundo, talvez divididas pela natureza das solicitações (por exemplo, conteúdo estático versus conteúdo dinâmico). Para um sistema de streaming de áudio, esta medição pode se concentrar na taxa de E / S da rede ou sessões simultâneas. Para um sistema de armazenamento de valor-chave, essa medida pode ser transações e recuperações por segundo .</p> <div class="tabbed-set tabbed-alternate" data-tabs=32:1><input checked=checked id=prometheus-oracledb-erros name=__tabbed_32 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-erros>Erros</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>A taxa de solicitações que falham, seja explicitamente (por exemplo, HTTP 500s), implicitamente (por exemplo, uma resposta de sucesso HTTP 200, mas associada ao conteúdo errado) ou por política (por exemplo, "Se você se comprometeu com um segundo tempos de resposta, qualquer solicitação acima de um segundo é um erro "). Quando os códigos de resposta do protocolo são insuficientes para expressar todas as condições de falha, protocolos secundários (internos) podem ser necessários para rastrear os modos de falha parcial. O monitoramento desses casos pode ser drasticamente diferente: capturar HTTP 500s em seu balanceador de carga pode fazer um trabalho decente de capturar todas as solicitações com falha completa, enquanto apenas testes de sistema de ponta a ponta podem detectar que você está servindo o conteúdo errado.</p> <div class="tabbed-set tabbed-alternate" data-tabs=33:1><input checked=checked id=prometheus-oracledb-saturação name=__tabbed_33 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-saturação>Saturação</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>O quão "completo" o seu serviço é. Uma medida da fração do seu sistema, enfatizando os recursos que são mais restritos (por exemplo, em um sistema com restrição de memória, mostrar memória; em um sistema com restrição de E / S, mostrar E / S). Observe que muitos sistemas degradam o desempenho antes de atingirem 100% de utilização, portanto, ter uma meta de utilização é essencial.</p> <p>Em sistemas complexos, a saturação pode ser complementada com medição de carga de nível mais alto: seu serviço pode lidar adequadamente com o dobro do tráfego, lidar com apenas 10% mais tráfego ou lidar com ainda menos tráfego do que recebe atualmente? Para serviços muito simples que não têm parâmetros que alteram a complexidade da solicitação (por exemplo, "Dê-me um nonce" ou "Eu preciso de um número inteiro monotônico exclusivo global") que raramente mudam de configuração, um valor estático de um teste de carga pode ser adequado . Conforme discutido no parágrafo anterior, no entanto, a maioria dos serviços precisa usar sinais indiretos, como utilização da CPU ou largura de banda da rede, que têm um limite superior conhecido. Os aumentos de latência costumam ser um indicador importante de saturação. Medir o seu tempo de resposta do 99º percentil em uma pequena janela (por exemplo, um minuto) pode dar um sinal muito precoce de saturação.</p> <p>Por fim, a saturação também se preocupa com as previsões de saturação iminente, como "Parece que seu banco de dados encherá o disco rígido em 4 horas".</p> <p>Se você medir todos os quatro sinais dourados e chamar um humano quando um sinal for problemático (ou, no caso de saturação, quase problemático), seu serviço será pelo menos decentemente coberto pelo monitoramento.</p> <div class="tabbed-set tabbed-alternate" data-tabs=34:1><input checked=checked id=prometheus-oracledb-preocupando-se-com-sua-cauda name=__tabbed_34 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-preocupando-se-com-sua-cauda>Preocupando-se com sua cauda</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Ao construir um sistema de monitoramento do zero, é tentador projetar um sistema baseado na média de alguma quantidade: a latência média, o uso médio da CPU de seus nós ou a plenitude média de seus bancos de dados. O perigo apresentado pelos dois últimos casos é óbvio: CPUs e bancos de dados podem ser facilmente utilizados de uma forma muito desequilibrada. O mesmo se aplica à latência. Se você executar um serviço da web com uma latência média de 100 ms a 1.000 solicitações por segundo, 1% das solicitações pode facilmente levar 5 segundos. 23 Se seus usuários dependem de vários serviços da web para renderizar suas páginas, o 99º percentil de um back-end pode facilmente se tornar a resposta mediana de seu front-end .</p> <p>A maneira mais simples de diferenciar entre uma média lenta e uma "cauda" muito lenta de solicitações é coletar contagens de solicitações divididas por latências (adequadas para renderizar um histograma), em vez de latências reais: quantas solicitações atendi que levaram entre 0 ms e 10 ms, entre 10 ms e 30 ms, entre 30 ms e 100 ms, entre 100 ms e 300 ms, e assim por diante? Distribuir os limites do histograma de forma aproximadamente exponencial (neste caso, por fatores de aproximadamente 3), geralmente é uma maneira fácil de visualizar a distribuição de suas solicitações.</p> <div class="tabbed-set tabbed-alternate" data-tabs=35:1><input checked=checked id=prometheus-oracledb-escolha-de-uma-resolução-apropriada-para-as-medições name=__tabbed_35 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-escolha-de-uma-resolução-apropriada-para-as-medições>Escolha de uma resolução apropriada para as medições</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Diferentes aspectos de um sistema devem ser medidos com diferentes níveis de granularidade. Por exemplo:</p> <p>Observar a carga da CPU no intervalo de tempo de um minuto não revelará nem mesmo picos de longa duração que geram latências de cauda altas.</p> <p>Por outro lado, para um serviço da web que visa não mais do que 9 horas de tempo de inatividade agregado por ano (99,9% de tempo de atividade anual), a verificação de um status de 200 (sucesso) mais de uma ou duas vezes por minuto é provavelmente desnecessariamente frequente.</p> <p>Da mesma forma, verificar se o disco rígido está cheio para um serviço que visa 99,9% de disponibilidade mais de uma vez a cada 1–2 minutos é provavelmente desnecessário.</p> <p>Tome cuidado ao estruturar a granularidade de suas medições. Coletar medições por segundo da carga da CPU pode render dados interessantes, mas essas medições frequentes podem ser muito caras para coletar, armazenar e analisar. Se sua meta de monitoramento exige alta resolução, mas não exige latência extremamente baixa, você pode reduzir esses custos realizando amostragem interna no servidor e, em seguida, configurando um sistema externo para coletar e agregar essa distribuição ao longo do tempo ou entre servidores.</p> <div class="tabbed-set tabbed-alternate" data-tabs=36:1><input checked=checked id=prometheus-oracledb-registre-a-utilização-atual-da-cpu-a-cada-segundo name=__tabbed_36 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-registre-a-utilização-atual-da-cpu-a-cada-segundo>Registre a utilização atual da CPU a cada segundo</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Usando intervalos de granularidade de 5%, incremente o intervalo de utilização de CPU apropriado a cada segundo.</p> <div class="tabbed-set tabbed-alternate" data-tabs=37:1><input checked=checked id=prometheus-oracledb-agregue-esses-valores-a-cada-minuto name=__tabbed_37 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-agregue-esses-valores-a-cada-minuto>Agregue esses valores a cada minuto"</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Essa estratégia permite observar breves pontos de acesso da CPU sem incorrer em custos muito altos devido à coleta e retenção.</p> <div class="tabbed-set tabbed-alternate" data-tabs=38:1><input checked=checked id=prometheus-oracledb-tão-simples-quanto-possível-não-mais-simples name=__tabbed_38 type=radio><div class=tabbed-labels><label for=prometheus-oracledb-tão-simples-quanto-possível-não-mais-simples>Tão simples quanto possível, não mais simples</label></div> <div class=tabbed-content> <div class=tabbed-block></div> </div> </div> <p>Empilhar todos esses requisitos uns sobre os outros pode resultar em um sistema de monitoramento muito complexo - seu sistema pode acabar com os seguintes níveis de complexidade:</p> <p>Alertas em diferentes limites de latência, em diferentes percentis, em todos os tipos de métricas diferentes</p> <p>Código extra para detectar e expor as possíveis causas</p> <p>Painéis associados para cada uma dessas possíveis causas</p> <p>As fontes de complexidade potencial são infinitas. Como todos os sistemas de software, o monitoramento pode se tornar tão complexo que se torna frágil, complicado de mudar e um fardo de manutenção.</p> <p>Portanto, projete seu sistema de monitoramento tendo em vista a simplicidade. Ao escolher o que monitorar, tenha em mente as seguintes diretrizes:</p> <p>As regras que detectam incidentes reais na maioria das vezes devem ser o mais simples, previsíveis e confiáveis ​​possível.</p> <p>A coleta de dados, agregação e configuração de alerta que raramente é realizada (por exemplo, menos de uma vez por trimestre para algumas equipes SRE) devem ser removidos.</p> <p>Os sinais que são coletados, mas não expostos em nenhum painel pré-elaborado nem usados ​​por qualquer alerta, são candidatos à remoção.</p> <p>Na experiência do Google, a coleta e agregação básicas de métricas, emparelhadas com alertas e painéis, funcionou bem como um sistema relativamente autônomo. (Na verdade, o sistema de monitoramento do Google é dividido em vários binários, mas normalmente as pessoas aprendem sobre todos os aspectos desses binários.) Pode ser tentador combinar o monitoramento com outros aspectos da inspeção de sistemas complexos, como perfis de sistema detalhados, depuração de processo único , rastreando detalhes sobre exceções ou travamentos, teste de carga, coleta e análise de log ou inspeção de tráfego. Embora a maioria desses assuntos compartilhe semelhanças com o monitoramento básico, combinar muitos resultados em sistemas excessivamente complexos e frágeis. Como em muitos outros aspectos da engenharia de software, manter sistemas distintos com</p> <p>Vinculando esses princípios</p> <p>Os princípios discutidos neste capítulo podem ser agrupados em uma filosofia de monitoramento e alerta amplamente endossada e seguida pelas equipes de SRE do Google. Embora essa filosofia de monitoramento seja um tanto aspiracional, é um bom ponto de partida para escrever ou revisar um novo alerta e pode ajudar sua organização a fazer as perguntas certas, independentemente do tamanho de sua organização ou da complexidade de seu serviço ou sistema.</p> <p>Ao criar regras para monitoramento e alerta, fazer as seguintes perguntas pode ajudá-lo a evitar falsos positivos e esgotamento do pager: 24</p> <p>Esta regra detecta uma condição não detectada que é urgente, acionável e ativa ou iminentemente visível para o usuário? 25</p> <p>Serei capaz de ignorar esse alerta, sabendo que é benigno? Quando e por que poderei ignorar esse alerta e como posso evitar esse cenário?</p> <p>Este alerta indica definitivamente que os usuários estão sendo afetados negativamente? Existem casos detectáveis ​​em que os usuários não estão sendo afetados negativamente, como tráfego drenado ou implantações de teste, que devem ser filtrados?</p> <p>Posso agir em resposta a este alerta? Essa ação é urgente ou pode esperar até de manhã? A ação poderia ser automatizada com segurança? Essa ação será uma solução de longo prazo ou apenas uma solução alternativa de curto prazo?</p> <p>Outras pessoas estão sendo avisadas por este problema, tornando pelo menos uma das páginas desnecessária?</p> <p>Essas perguntas refletem uma filosofia fundamental em páginas e pagers:</p> <p>Cada vez que o pager tocar, devo ser capaz de reagir com um senso de urgência. Só consigo reagir com urgência algumas vezes por dia antes de ficar cansado.</p> <p>Cada página deve ser acionável.</p> <p>Cada resposta de página deve exigir inteligência. Se uma página meramente merece uma resposta robótica, não deveria ser uma página.</p> <p>As páginas devem ser sobre um problema novo ou um evento que não tenha sido visto antes.</p> <p>Essa perspectiva dissipa certas distinções: se uma página satisfaz os quatro marcadores anteriores, é irrelevante se a página é acionada por monitoramento de caixa branca ou caixa preta. Essa perspectiva também amplifica certas distinções: é melhor despender muito mais esforço em detectar os sintomas do que as causas; quando se trata de causas, preocupe-se apenas com causas muito definidas e iminentes.</p> <p>Monitoramento de Longo Prazo</p> <p>Em sistemas de produção modernos, os sistemas de monitoramento rastreiam um sistema em constante evolução com mudanças na arquitetura de software, características de carga e metas de desempenho. Um alerta que atualmente é excepcionalmente raro e difícil de automatizar pode se tornar frequente, talvez até merecendo um script hackeado para resolvê-lo. Nesse ponto, alguém deve encontrar e eliminar as causas básicas do problema; se tal resolução não for possível, a resposta do alerta merece ser totalmente automatizada.</p> <p>É importante que as decisões sobre monitoramento sejam tomadas com objetivos de longo prazo em mente. Cada página que acontece hoje distrai o ser humano de melhorar o sistema para amanhã, então muitas vezes é o caso de dar um golpe de curto prazo na disponibilidade ou no desempenho para melhorar a perspectiva de longo prazo para o sistema. Vamos dar uma olhada em dois estudos de caso que ilustram essa compensação.</p> <p>Bigtable SRE: A Tale of Over-Alerting</p> <p>A infraestrutura interna do Google é normalmente oferecida e medida em relação a um objetivo de nível de serviço (SLO; consulte Objetivos de nível de serviço ). Muitos anos atrás, o SLO do serviço Bigtable era baseado no desempenho médio de um cliente sintético bem comportado. Devido a problemas no Bigtable e nas camadas inferiores da pilha de armazenamento, o desempenho médio foi impulsionado por uma cauda "grande": os piores 5% das solicitações costumavam ser significativamente mais lentos do que o resto.</p> <p>Alertas de e-mail eram acionados conforme o SLO se aproximava, e alertas de paging eram acionados quando o SLO era excedido. Ambos os tipos de alertas foram disparados de forma volumosa, consumindo uma quantidade inaceitável de tempo de engenharia: a equipe gastou uma quantidade significativa de tempo fazendo a triagem dos alertas para encontrar os poucos que eram realmente acionáveis ​​e muitas vezes perdemos os problemas que realmente afetavam os usuários, porque poucos fez. Muitas das páginas não eram urgentes, devido a problemas bem conhecidos na infraestrutura, e tiveram respostas automáticas ou não receberam resposta.</p> <p>Para remediar a situação, a equipe usou uma abordagem em três vertentes: ao fazer grandes esforços para melhorar o desempenho do Bigtable, também reduzimos temporariamente nossa meta de SLO, usando a latência de solicitação do 75º percentil. Também desabilitamos os alertas de e-mail, pois eram tantos que perder tempo diagnosticando-os era inviável.</p> <p>Essa estratégia nos deu espaço para respirar para realmente consertar os problemas de longo prazo no Bigtable e nas camadas inferiores da pilha de armazenamento, em vez de consertar constantemente os problemas táticos. Os engenheiros de plantão podiam realmente realizar o trabalho quando não eram acompanhados por pajens o tempo todo. Por fim, o recuo temporário de nossos alertas nos permitiu progredir mais rapidamente em direção a um serviço melhor.</p> <p>Gmail: respostas previsíveis e programáveis ​​de humanos</p> <p>Nos primeiros dias do Gmail, o serviço foi construído em um sistema de gerenciamento de processo distribuído adaptado chamado Workqueue, que foi originalmente criado para processamento em lote de partes do índice de pesquisa. O Workqueue foi "adaptado" a processos de longa duração e posteriormente aplicado ao Gmail, mas alguns bugs na base de código relativamente opaca do agendador se mostraram difíceis de superar.</p> <p>Naquela época, o monitoramento do Gmail era estruturado de forma que alertas fossem disparados quando tarefas individuais fossem “canceladas” pelo Workqueue. Essa configuração não era ideal porque, mesmo naquela época, o Gmail tinha muitos, muitos milhares de tarefas, cada tarefa representando uma fração de um por cento de nossos usuários. Nós nos preocupávamos profundamente em fornecer uma boa experiência do usuário aos usuários do Gmail, mas essa configuração de alerta era impossível de manter.</p> <p>Para resolver esse problema, o Gmail SRE construiu uma ferramenta que ajudou a “cutucar” o programador da maneira certa para minimizar o impacto para os usuários. A equipe teve várias discussões sobre se deveríamos ou não simplesmente automatizar todo o loop, desde a detecção do problema até o ajuste do reescalonador, até que uma solução melhor de longo prazo fosse alcançada, mas alguns temiam que esse tipo de solução alternativa atrasaria uma correção real.</p> <p>Este tipo de tensão é comum dentro de uma equipe e muitas vezes reflete uma desconfiança subjacente da autodisciplina da equipe: enquanto alguns membros da equipe querem implementar um "hack" para dar tempo para uma correção adequada, outros temem que um hack seja esquecido ou que a correção adequada será despriorizada indefinidamente. Essa preocupação é verossímil, pois é fácil construir camadas de dívidas técnicas insustentáveis ​​corrigindo os problemas em vez de fazer correções reais. Gerentes e líderes técnicos desempenham um papel fundamental na implementação de correções verdadeiras de longo prazo, apoiando e priorizando correções de longo prazo potencialmente demoradas, mesmo quando a “dor” inicial do paging diminui.</p> <p>Páginas com respostas automáticas e algorítmicas devem ser uma bandeira vermelha. A falta de vontade da sua equipe em automatizar essas páginas implica que a equipe não tem confiança de que pode limpar seu débito técnico. Este é um grande problema que vale a pena escalar.</p> <p>The Long Run</p> <p>Um tema comum conecta os exemplos anteriores de Bigtable e Gmail: uma tensão entre disponibilidade de curto e longo prazo. Freqüentemente, a força total do esforço pode ajudar um sistema raquítico a atingir alta disponibilidade, mas esse caminho geralmente é de curta duração e repleto de esgotamento e dependência de um pequeno número de membros heróicos da equipe. Assumir uma redução controlada e de curto prazo na disponibilidade costuma ser uma troca dolorosa, mas estratégica para a estabilidade de longo prazo do sistema. É importante não pensar em cada página como um evento isolado, mas considerar se o nível geralde paging leva a um sistema saudável e apropriadamente disponível com uma equipe saudável e viável e perspectiva de longo prazo. Revisamos as estatísticas sobre a frequência da página (geralmente expressa como incidentes por turno, em que um incidente pode ser composto de algumas páginas relacionadas) em relatórios trimestrais com a gerência, garantindo que os tomadores de decisão sejam mantidos atualizados sobre o carregamento do pager e a integridade geral de seus equipes.</p> <h1 id=logs-de-eventos>Logs de eventos<a class=headerlink href=#logs-de-eventos title="Permanent link">¶</a></h1> <p>Um log de evento é um registro imutável com carimbo de data/hora de eventos discretos que aconteceram ao longo do tempo. Os logs de eventos em geral vêm em 3 formas, mas são fundamentalmente os mesmos: um carimbo de data/hora e uma carga útil de algum contexto. As três 3 formas são:</p> <p>| Tipo | Descrição |</p> <p>| ---- | -------- |</p> <p>| Texto | Um registro de log pode em formato texto. Este também é o formato mais comum de log que existe. |</p> <p>| Estruturado | Muito “evangelizado” e defendido nos últimos tempos. Normalmente, esses logs são emitidos no formato JSON. |</p> <p>| Binário | Pense em logs no formato Protobuf, binlogs MySQL usados para replicação e point-in-time recovery, systemd journal logs, o formato pflog usado pelo firewall BSD pf que frequentemente serve como um frontend para a ferramenta tcpdump. |</p> <h1 id=logs>Logs<a class=headerlink href=#logs title="Permanent link">¶</a></h1> <p>Log de dados é uma expressão utilizada para descrever o processo de registro de eventos relevantes num sistema computacional.</p> <p>Os logs do sistema operacional fornecem muitas informações de diagnóstico sobre o os equipamentos servidores/computadores.</p> <p align=justify>Os arquivos de log são normalmente utilizados como a principal fonte de informações quando um sistema está com algum incidente ou problema. Um formato de log é um formato estruturado que permite que os logs sejam legíveis por máquina e facilmente analisados. A capacidade de traduzir dados brutos em algo imediatamente compreensível e fácil de ler é um dos recursos obrigatórios do software de gerenciamento de logs.</p> <h2 id=por-que-o-registro-e-importante>Por que o registro é importante?<a class=headerlink href=#por-que-o-registro-e-importante title="Permanent link">¶</a></h2> <ul> <li> <p>Desenvolvedores: O registro de log de aplicativo fornece informações mais detalhadas sobre o que o aplicativo está fazendo, ajudam a solucionar e corrigir os problemas que estão causando os problemas.</p> </li> <li> <p>Em PL/SQL temos a rotina PG_60OPT_UTILITARIO_ERRO</p> </li> <li> <p>SysAdmin: Ajudar a identificar a causa raiz do problema, no servidor e/ou identificar se eles estão funcionando bem.</p> </li> <li> <p>Em PL/SQL temos a rotina PG_60OPT_UTILITARIO_ERRO;</p> </li> <li> <p>DBMS_ERRLOG</p> </li> <li> <p>Equipe de Segurança: Detecte e alerte qualquer atividade anormal ou intrusão na rede, comprometimento inicial dos ativos de TI, atividade de malware e acesso não autorizado aos ativos críticos, análise forense dos dados anteriores.</p> </li> </ul> <p><a href=https://mermaid.live/edit#pako:eNpdU92K4jAYfZWQiyXCCNY6N14sRI2hTMdKU2Z3oBBCG7XQppLG3R2GefdNk3Rl9aLKOd_P-c6xn7DqawnX8NT2v6uL0AakOSgVsJ9igfBVVBfJi76rhJkBMJ9_B0WEtsKItlFiBr6BYolwVclh4G1_dkCMsnzHZmFI7JtiW3YkP_-hywmOHM7xtkjekuKdpxn1U5a-g__I8hd2xFvyf83D-AgNRqhatL2SgSP5kZMNcwV4YWfShSfweNiVSf1r5km7KUs5vtWNKbRo2lEAjhFr1HmeqWlV5K512iKvMHyNGHYPr4agrVRGiza1jvjmfbASSGDBtBmMVFL79cSX0AXabe6iaIQK3bQXAZyuXjfObrpE7J09YNZxxtnHEBKgK0T4ZkqARmGedXrsAv7EQPocqI3B9vuxE-WPobGj7qfQlTctssT-sBvD4K-EMUwJc8ZFNuuTqsf_A7cuqEFUpukVr3pl5B8TauKpOTlMbas7xHPCjnyf5a8T-fxAZgeWbJI0KRJyvzRyDrmny2gUGSSFrWFTmAnAlAB8gp3UnWhq-zJ8jvNKaC6ykyVc25-1PIlba0pYqi9bKm6mZx-qgmujb_IJ3q61MHLXiLMWHVyfRDvIr7_Ou-kH><img alt src="https://mermaid.ink/img/pako:eNpdU92K4jAYfZWQiyXCCNY6N14sRI2hTMdKU2Z3oBBCG7XQppLG3R2GefdNk3Rl9aLKOd_P-c6xn7DqawnX8NT2v6uL0AakOSgVsJ9igfBVVBfJi76rhJkBMJ9_B0WEtsKItlFiBr6BYolwVclh4G1_dkCMsnzHZmFI7JtiW3YkP_-hywmOHM7xtkjekuKdpxn1U5a-g__I8hd2xFvyf83D-AgNRqhatL2SgSP5kZMNcwV4YWfShSfweNiVSf1r5km7KUs5vtWNKbRo2lEAjhFr1HmeqWlV5K512iKvMHyNGHYPr4agrVRGiza1jvjmfbASSGDBtBmMVFL79cSX0AXabe6iaIQK3bQXAZyuXjfObrpE7J09YNZxxtnHEBKgK0T4ZkqARmGedXrsAv7EQPocqI3B9vuxE-WPobGj7qfQlTctssT-sBvD4K-EMUwJc8ZFNuuTqsf_A7cuqEFUpukVr3pl5B8TauKpOTlMbas7xHPCjnyf5a8T-fxAZgeWbJI0KRJyvzRyDrmny2gUGSSFrWFTmAnAlAB8gp3UnWhq-zJ8jvNKaC6ykyVc25-1PIlba0pYqi9bKm6mZx-qgmujb_IJ3q61MHLXiLMWHVyfRDvIr7_Ou-kH?type=png"></a></p> <h2 id=logs-do-linuxmacos>Logs do Linux/MacOS<a class=headerlink href=#logs-do-linuxmacos title="Permanent link">¶</a></h2> <p>Nestes sistemas operacionais temos um diretório especial para armazenar logs chamado /var/log. Este diretório contém logs do próprio sistema operacional, serviços e vários aplicativos em execução no sistema.</p> <table> <thead> <tr> <th>Caminho</th> <th>Descrição</th> </tr> </thead> <tbody> <tr> <td>/var/log/syslog</td> <td>Mensagens relacionada ao sistema</td> </tr> <tr> <td>/var/log/messages</td> <td>Mensagens relacionada ao sistema</td> </tr> <tr> <td>/var/log/auth.log</td> <td>Log de Autenticação(segurança, como logins, ações do usuário root e saída de módulos de autenticação conectáveis ​​(PAM))</td> </tr> <tr> <td>/var/log/kern.log</td> <td>armazena eventos de kernel, erros e logs de aviso, que são particularmente úteis para solucionar problemas de kernels personalizados</td> </tr> <tr> <td>/var/log/cron.log</td> <td>Log do Cron Job - Armazena informações sobre tarefas agendadas</td> </tr> <tr> <td>/var/log/maillog.log</td> <td>Log do Serviço de Mail</td> </tr> <tr> <td>/var/log/qmail.log</td> <td>Pasta de Log do Qmail</td> </tr> <tr> <td>/var/log/httpd.log</td> <td>Pasta de Log do http Apache</td> </tr> <tr> <td>/var/log/lighttpd.log</td> <td>Pasta de Log do http Lighttpd</td> </tr> <tr> <td>/var/log/ngix.log</td> <td>Pasta de Log do Ngix</td> </tr> <tr> <td>/var/log/apt.log.</td> <td>Log do da instalação apt-get</td> </tr> <tr> <td>/var/log/apache2</td> <td>Web Apache grava logs</td> </tr> <tr> <td>/var/log/mysql</td> <td>Log do MySQL</td> </tr> <tr> <td>/var/opt/oracle/log</td> <td>Log de Instalação do Banco de Dados</td> </tr> <tr> <td>/u01/app/oracle/diag</td> <td>Arquivos de Log do Banco de Dados</td> </tr> </tbody> </table> <h3 id=syslog>SYSLOG<a class=headerlink href=#syslog title="Permanent link">¶</a></h3> <p>É um padrão para criar e transmitir logs. O serviço syslog, que recebe e processa mensagens syslog.</p> <p>O protocolo syslog (RFC 5424), que é um protocolo de transporte que especifica como transmitir logs em uma rede.</p> <p>Por padrão, ele usa a porta 514 para mensagens de texto simples e a porta 6514 para mensagens criptografadas.</p> <h3 id=systemd>SystemD<a class=headerlink href=#systemd title="Permanent link">¶</a></h3> <p>O Systemd implementa seu próprio serviço de registro denominado journald que pode substituir ou complementar o syslog. O Journald registra de maneira significativamente diferente do systemd.</p> <h2 id=apache-logging>Apache Logging<a class=headerlink href=#apache-logging title="Permanent link">¶</a></h2> <p>O log do Apache registra eventos que foram manipulados pelo servidor da web Apache, incluindo solicitações de outros computadores, respostas enviadas pelo Apache e ações internas ao servidor Apache. O Apache gera dois tipos de logs: logs de <strong>acesso e erro</strong>.</p> <p>Não irei falar sobre todos os níveis de log, mas segue uma lista resumida, onde este ajusta o detalhamento das mensagens registradas nos logs de erros.</p> <p>| Nível | Descrição |</p> <p>|--------|-------------------------------------------------------------|</p> <p>| emerg | Emergências - o sistema está inutilizável. |</p> <p>| alert | A ação deve ser tomada imediatamente. |</p> <p>| crit | Condições críticas. |</p> <p>| error | Condições de erro. |</p> <p>| warn | Condições de aviso. |</p> <p>| notice | Condição normal, mas significativa. |</p> <p>| info | Informativo. |</p> <p>| debug | Mensagens de nível de depuração |</p> <p>| trace1 | Rastrear mensagens |</p> <p>| trace2 | Rastrear mensagens |</p> <p>| trace3 | Rastrear mensagens |</p> <p>| trace4 | Rastrear mensagens |</p> <p>| trace5 | Rastrear mensagens |</p> <p>| trace6 | Rastrear mensagens |</p> <p>| trace7 | Rastreie mensagens, despejando grandes quantidades de dados |</p> <p>| trace8 | Rastreie mensagens, despejando grandes quantidades de dados |</p> <h2 id=rsyslog>Rsyslog<a class=headerlink href=#rsyslog title="Permanent link">¶</a></h2> <p>É um sistema de processamento de log, projetado em uma arquitetura cliente/servidor.</p> <p>Com ferramentas como especialistas em segurança RSYSLOG, administradores de sistema e gerentes de devops podem centralizar todas as mensagens de log provenientes de servidores, dispositivos de rede, aplicativos e muitas outras fontes (até mesmo impressoras e periféricos).</p> <p>O arquivo de configuração rsyslog principal está localizado em /etc/rsyslog.conf.</p> <ul> <li>rsyslogd -v</li> </ul> <pre class=mermaid><code>
graph LR

Computador-A[Computador] --&gt;|Syslog| B[Syslog Server]

Computador-B[Computador] --&gt;|Syslog| B[Syslog Server]

Computador-C[Computador] --&gt;|Syslog| B[Syslog Server]
</code></pre> <h2 id=fluentd>Fluentd<a class=headerlink href=#fluentd title="Permanent link">¶</a></h2> <p>É um coletor de dados de código aberto, que permite unificar a coleta e o consumo de dados para um melhor uso e compreensão dos dados. O Fluentd tenta estruturar os dados como JSON.</p> <p>O processamento de dados downstream é muito mais fácil com JSON, pois tem estrutura suficiente para ser acessível ao mesmo tempo em que mantém esquemas flexíveis.</p> <p>O Fluentd desacopla as fontes de dados dos sistemas de <strong>back-end</strong>, fornecendo uma camada de registro unificada entre eles. Essa camada permite que desenvolvedores e analistas de dados utilizem muitos tipos de logs à medida que são gerados. Tão importante quanto, atenua o risco de "dados ruins" desacelerar e desinformar sua organização.</p> <p>Uma camada de registro unificada permite que você e sua organização façam melhor uso dos dados e iterem mais rapidamente em seu software.</p> <pre class=mermaid><code>
graph LR

Computador-A[Apache] --&gt;|Access Log| B[Syslog Server]

Computador-B[App Logs] --&gt;|Front End| B[Fluentd]

Computador-C[System Logs] --&gt;|Syslogd| B[Fluentd]

Computador-D[Database] --&gt;|AlertLog| B[Fluentd]

B[Fluentd] --&gt;|Alerting| Nagios

B[Fluentd] --&gt;|Analysis| MongoDB

B[Fluentd] --&gt;|Analysis| MySQL

B[Fluentd] --&gt;|Analysis| Hadoop

B[Fluentd] --&gt;|Archiving| AmazonS3
</code></pre> <h2 id=logrotate>Logrotate<a class=headerlink href=#logrotate title="Permanent link">¶</a></h2> <p>Logrotate é um programa para automatizar a rotação, compressão e exclusão de arquivos de log. Cada arquivo de log pode ser tratado diariamente, semanalmente, mensalmente e, em nosso exemplo, semanalmente.</p> <p>Quando o logrotate é executado, ele lê seus <strong>arquivos de configuração</strong> para determinar onde encontrar os arquivos de log que ele precisa girar, com que freqüência os arquivos devem ser girados e quantos logs arquivados devem ser mantidos.</p> <p>O arquivo contém os parâmetros padrão que o logrotate usa ao girar os logs. O arquivo é comentado, para que você possa examiná-lo para ver como a configuração está definida.</p> <ul> <li> <p>yum install logrotate</p> </li> <li> <p>Arquivo de Configuração: /etc/logrotate.conf</p> </li> <li> <p>Pasta de Configuração: /etc/logrotate.d/</p> </li> </ul> <p>A pasta de configuração é normalmente onde você adicionaria novas configurações de arquivo de log que são exclusivas para um arquivo de log específico ou conjunto de arquivos de log.</p> <p>O arquivo de configuração geralmente contém a configuração global e o ponteiro para a pasta de configuração.</p> <p>Exemplo: Suponha que tenhamos uma aplicação, que gere Logs, no diretório, /var/log/60pportunities/ e com extensão ".log".</p> <div class=highlight><pre><span></span><code>/var/log/60pportunities/*.log {

size 10M -- size para girar o arquivo de log quando ele exceder um determinado tamanho de arquivo(k,M,G).

weekly -- rotação baseada no tempo - monthly, weekly or daily

rotate 7 -- Qantos arquivos serão mantidos após a rotação

maxage 14 -- Número máximo de arquivos serão mantidos após a rotação

compress -- Arquivos de log que foram girados podem ser compactados para economizar espaço em disco. Gzip é usado por padrão.

compresscmd /bin/bzip2 -- Qual o programa de compressão

missingok -- palavra-chave missingok para evitar esse cenário e instruir logrotate a ignorar o arquivo de log se ele não existir.

copytruncate -- A palavra-chave copytruncate copia todo o log do arquivo para um novo arquivo e, a seguir, trunca o arquivo original. Isso mantém o arquivo de log original no lugar e também permite que a rotação continue.

notifempty -- não gire o arquivo de log se estiver vazio.

postrotate -- cada vez que gira um log especificado em um bloco de configuração.

/usr/sbin/apachectl restart &gt; /dev/null

endscript

sharedscripts

}
</code></pre></div> <p>Outros exemplos, pegos na internet:</p> <div class=highlight><pre><span></span><code>/var/log/httpd/*log {

missingok

notifempty

sharedscripts

postrotate

/sbin/service httpd reload &gt; /dev/null 2&gt;/dev/null || true

endscript

}



/path/to/my/logfile.log {

su root root

daily

maxage 365000

copytruncate

dateext

dateformat -%d.%m.%Y

}



/opt/log/app/app.log.* {

missingok

nomail

postrotate

/usr/bin/find /opt/log/app/ -name "app.log.*" -type f -mtime +0 -exec rm {} \;

endscript

}



/var/log/apt/term.log {

rotate 12

monthly

compress

missingok

notifempty

}

/var/log/apt/history.log {

rotate 12

monthly

compress

missingok

notifempty

}



/opt/host1/logs/host1*.log {

daily

rotate 7

missingok

compress

compresscmd /usr/bin/gzip

delaycompress

postrotate

/etc/init.d/syslog reload &gt; /dev/null

endscript

}



/var/log/example-app/*.log {

daily

missingok

rotate 14

compress

notifempty

create 0640 www-data www-data

sharedscripts

postrotate

systemctl reload example-app

endscript

}
</code></pre></div> <p>Comandos em execução:</p> <ul> <li> <p>logrotate --force --verbose /etc/logrotate.conf</p> </li> <li> <p>logrotate --debug /etc/logrotate.conf</p> </li> <li> <p>logrotate --force /etc/logrotate.conf --state /home/60pportunities/logrotate-state</p> </li> </ul> <p><strong>Observação</strong>: <em>Todos os servidores devem ser liberados com o logrotate configurado e os logs apontados para servidor de logs</em>.</p> <h2 id=alguns-exemplos>Alguns exemplos<a class=headerlink href=#alguns-exemplos title="Permanent link">¶</a></h2> <h3 id=plsql>PL/SQL<a class=headerlink href=#plsql title="Permanent link">¶</a></h3> <p>Há a necessidade em identificar problemas nas principais tabelas quando da inserção de informações e/ou efetuar o controle de carga em rotinas em PL/SQL.</p> <div class=highlight><pre><span></span><code>CREATE TABLE EXEMPLO AS 

SELECT ROUND(dbms_random.value(1,10)) ID, 

( 

CASE MOD(ROWNUM,5) 

WHEN 0 

THEN CAST (dbms_random.STRING('U',11) AS VARCHAR2(11)) 

ELSE CAST (dbms_random.STRING('U',10) AS VARCHAR2(10)) 

END) NOME, 

MOD(ROWNUM,5) CLASSE 

FROM DUAL 

CONNECT BY LEVEL &lt;= 1000;

/

SELECT count(*) FROM EXEMPLO ;
</code></pre></div> <h4 id=pacote-dbms_errlog>Pacote DBMS_ERRLOG<a class=headerlink href=#pacote-dbms_errlog title="Permanent link">¶</a></h4> <p>Fornece um procedimento que permite criar uma tabela de log de erros para que as operações DML possam continuar depois de encontrar erros, em vez de abortar e reverter.</p> <p>Isso permite que você economize tempo e recursos do sistema.</p> <div class=highlight><pre><span></span><code>DBMS_ERRLOG.CREATE_ERROR_LOG (

dml_table_name IN VARCHAR2,

err_log_table_name IN VARCHAR2 := NULL,

err_log_table_owner IN VARCHAR2 := NULL,

err_log_table_space IN VARCHAR2 := NULL,

skip_unsupported IN BOOLEAN := FALSE);
</code></pre></div> <p>Ex:</p> <div class=highlight><pre><span></span><code>exec DBMS_ERRLOG.create_error_log(dml_table_name =&gt; 'XX60OPT_APLICACAO_LOG'

err_log_table_name =&gt; 'ERR$XX60OPT_APLICACAO_LOG',

err_log_table_owner =&gt; 'XX60OPTMONITOR'

);



INSERT /*+ APPEND */ INTO NOME_DA_TABELA

SELECT *

FROM NOME_DA_TABELA_OUTRO

LOG ERRORS

REJECT LIMIT UNLIMITED;
</code></pre></div> <h4 id=pacote-pg_60opt_utilitario_erro>Pacote PG_60OPT_UTILITARIO_ERRO<a class=headerlink href=#pacote-pg_60opt_utilitario_erro title="Permanent link">¶</a></h4> <p>Pacote em PL/SQL desenvolvido pela 60OPT, objetivando o controle background de rotinas.</p> <p>| Metodo | Descrição |</p> <p>| ------ | --------- |</p> <p>| PROVOCA_INTERRUPCAO | Procedimento que recebe o ERRO e efetua a Interrupção da Rotina. |</p> <p>| REGISTRA_E_CONTINUA | Procedimento que APENAS registra uma informação no log. |</p> <p>| REGISTRA_E_INTERROMPE | Procedimento que registra uma informação no log e INTERROMPE a execução. |</p> <p>| GETMENSAGEM | Obter a mensagem de Erro. |</p> <h2 id=observabilidade-no-banco-de-dados>Observabilidade no Banco De Dados<a class=headerlink href=#observabilidade-no-banco-de-dados title="Permanent link">¶</a></h2> <p>Como podemos usar esses insights para melhorar o pipeline de alterações do banco de dados?</p> <p>A capacidade de medir o estado atual de um sistema com base em sua saída ou nos dados que ele gera, que são enviados para as plataformas de observabilidade ou análise de uma equipe para rastrear os principais indicadores de desempenho do fluxo de trabalho. A observabilidade também pode:</p> <ul class=task-list> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Melhorar a segurança e a conformidade;</p> </li> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Habilitar análise de tendências;</p> </li> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Antecipar problemas antes que eles ocorram;</p> </li> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Identificar desvios no estado do banco de dados;</p> </li> </ul> <h2 id=observabilidade-de-dados-versus-observabilidade-de-banco-de-dados>Observabilidade de Dados versus Observabilidade de Banco de Dados<a class=headerlink href=#observabilidade-de-dados-versus-observabilidade-de-banco-de-dados title="Permanent link">¶</a></h2> <ul class=task-list> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Observabilidade de dados é a capacidade de compreender os componentes, a estrutura e a integridade dos dados mantidos em seus sistemas de armazenamento. A forma como os dados em si são estruturados é uma parte essencial da observabilidade dos dados (juntamente com qualidade, atualização, volume e linhagem).</p> </li> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Observabilidade do banco de dados analisa o processo de mudança do esquema do banco de dados para compreender as evoluções estruturais ao longo do tempo.</p> </li> </ul> <h2 id=metricas-de-dados>Métricas de Dados<a class=headerlink href=#metricas-de-dados title="Permanent link">¶</a></h2> <p>As métricas também podem ser filtradas por estágio de desenvolvimento, tipo de banco de dados, conexões de aplicativos e outros elementos. Coloquei alguns exemplos de métricas de observabilidade de banco de dados que podemos incluir:</p> <ul class=task-list> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Erros relacionados à conformidade regulatória;</p> </li> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Taxa de sucesso/falha;</p> </li> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Contagem de alterações de esquema;</p> </li> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Tempos de backup e recuperação;</p> </li> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Taxa de crescimento de dados;</p> </li> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Volume do log de auditoria;</p> </li> </ul> <h2 id=metricas-para-seguranca-de-banco-de-dados>Métricas para segurança de Banco de Dados<a class=headerlink href=#metricas-para-seguranca-de-banco-de-dados title="Permanent link">¶</a></h2> <p>As medições de observabilidade do banco de dados podem colocar em foco a segurança e a conformidade do banco de dados, elevando o nível de segurança dos dados.</p> <ul class=task-list> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Frequência da verificação de segurança;</p> </li> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Tempo de resposta a incidentes;</p> </li> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Tempo médio para recuperação de incidentes de segurança;</p> </li> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Compilações de segurança com falha;</p> </li> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Cobertura de testes de segurança automatizados (%);</p> </li> </ul> <h2 id=metricas-para-desempenho-do-banco-de-dados>Métricas para Desempenho do Banco de Dados<a class=headerlink href=#metricas-para-desempenho-do-banco-de-dados title="Permanent link">¶</a></h2> <p>A observabilidade do banco de dados também se estende ao desempenho do próprio banco de dados incluir:</p> <ul class=task-list> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Tempo de resposta da consulta;</p> </li> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Tempos de conexão do banco de dados;</p> </li> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Utilização da CPU;</p> </li> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Uso de memória;</p> </li> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Taxa de transferência de E/S de disco;</p> </li> <li class=task-list-item> <p><label class=task-list-control><input checked disabled type=checkbox><span class=task-list-indicator></span></label> Latência do usuário final;</p> </li> </ul> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2025-04-23T22:41:22-03:00 locale=pt></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2025-04-23</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2025-04-22T09:45:11-03:00 locale=pt></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2025-04-22</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Contributors> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"></path></svg> </span> <nav> <a href=mailto:horacio.vasconcellos@gmail.com>horacio.vasconcellos</a> </nav> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright © 2024 Documentação <a href=#__consent>Change cookie settings</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ rel=noopener target=_blank> Material for MkDocs </a> </div> <div class=md-social> <a class=md-social__link href=https://github.com/horaciovasconcellos rel=noopener target=_blank title=github.com> <svg viewbox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </a> <a class=md-social__link href=https://gitlab.com/horaciovasconcellos rel=noopener target=_blank title=gitlab.com> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m503.5 204.6-.7-1.8-69.7-181.78c-1.4-3.57-3.9-6.59-7.2-8.64-2.4-1.55-5.1-2.515-8-2.81s-5.7.083-8.4 1.11c-2.7 1.02-5.1 2.66-7.1 4.78-1.9 2.12-3.3 4.67-4.1 7.44l-47 144H160.8l-47.1-144c-.8-2.77-2.2-5.31-4.1-7.43-2-2.12-4.4-3.75-7.1-4.77a18.1 18.1 0 0 0-8.38-1.113 18.4 18.4 0 0 0-8.04 2.793 18.1 18.1 0 0 0-7.16 8.64L9.267 202.8l-.724 1.8a129.57 129.57 0 0 0-3.52 82c7.747 26.9 24.047 50.7 46.447 67.6l.27.2.59.4 105.97 79.5 52.6 39.7 32 24.2c3.7 1.9 8.3 4.3 13 4.3s9.3-2.4 13-4.3l32-24.2 52.6-39.7 106.7-79.9.3-.3c22.4-16.9 38.7-40.6 45.6-67.5 8.6-27 7.4-55.8-2.6-82"></path></svg> </a> <a class=md-social__link href=https://twitter.com/Horacio_Junior rel=noopener target=_blank title="Horacio.Vasconcellos on Twitter"> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"></path></svg> </a> <a class=md-social__link href rel="noopener me" target=_blank title="Horaci.Vasconcellos on Mastodon"> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.5 102.5 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5m-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"></path></svg> </a> <a class=md-social__link href=https://gitter.im/squidfunk/mkdocs-material rel=noopener target=_blank title=gitter.im> <svg viewbox="0 0 384 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M66.4 322.5H16V0h50.4zM166.9 76.1h-50.4V512h50.4zm100.6 0h-50.4V512h50.4zM368 76h-50.4v247H368z"></path></svg> </a> <a class=md-social__link href=https://hub.docker.com/u/77678117787 rel=noopener target=_blank title=hub.docker.com> <svg viewbox="0 0 640 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1zm0-204.3h-66.1v60.7h66.1zm78.2 144.8H362v59.4h66.1zm-156.3-72.1h-66.1v60.1h66.1zm78.1 0h-66.1v60.1h66.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1zm78.1 0h-66.1v59.4h66.1zm-78.1-72.1h-66.1v60.1h66.1z"></path></svg> </a> <a class=md-social__link href=https://www.linkedin.com/in/hor%C3%A1cio-correa-t-de-vasconcellos-j%C3%BAnior-b7788467/ rel=noopener target=_blank title=www.linkedin.com> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"></path></svg> </a> <a class=md-social__link href=https://www.instagram.com/horacio.vasconcellos/ rel=noopener target=_blank title=www.instagram.com> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141m0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7m146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8m76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8M398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1"></path></svg> </a> <a class=md-social__link href=https://www.facebook.com/horacio.vasconcellos rel=noopener target=_blank title=www.facebook.com> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256"></path></svg> </a> <a class=md-social__link href=http://60pportunities.com.br rel=noopener target=_blank title=60pportunities.com.br> <svg viewbox="0 0 640 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M180.5 74.262C80.813 74.262 0 155.633 0 256s80.819 181.738 180.5 181.738S361 356.373 361 256 280.191 74.262 180.5 74.262m288.25 10.646c-49.845 0-90.245 76.619-90.245 171.095s40.406 171.1 90.251 171.1 90.251-76.619 90.251-171.1H559c0-94.503-40.4-171.095-90.248-171.095Zm139.506 17.821c-17.526 0-31.735 68.628-31.735 153.274s14.2 153.274 31.735 153.274S640 340.631 640 256c0-84.649-14.215-153.271-31.742-153.271Z"></path></svg> </a> <a class=md-social__link href=https://60pportunities.com.br rel=noopener target=_blank title=60pportunities.com.br> <svg viewbox="0 0 576 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M244 246c-3.2-2-6.3-2.9-10.1-2.9-6.6 0-12.6 3.2-19.3 3.7l1.7 4.9zm135.9 197.9c-19 0-64.1 9.5-79.9 19.8l6.9 45.1c35.7 6.1 70.1 3.6 106-9.8-4.8-10-23.5-55.1-33-55.1M340.8 177c6.6 2.8 11.5 9.2 22.7 22.1 2-1.4 7.5-5.2 7.5-8.6 0-4.9-11.8-13.2-13.2-23 11.2-5.7 25.2-6 37.6-8.9 68.1-16.4 116.3-52.9 146.8-116.7C548.3 29.3 554 16.1 554.6 2l-2 2.6c-28.4 50-33 63.2-81.3 100-31.9 24.4-69.2 40.2-106.6 54.6l-6.3-.3v-21.8c-19.6 1.6-19.7-14.6-31.6-23-18.7 20.6-31.6 40.8-58.9 51.1-12.7 4.8-19.6 10-25.9 21.8 34.9-16.4 91.2-13.5 98.8-10M555.5 0l-.6 1.1-.3.9.6-.6zm-59.2 382.1c-33.9-56.9-75.3-118.4-150-115.5l-.3-6c-1.1-13.5 32.8 3.2 35.1-31l-14.4 7.2c-19.8-45.7-8.6-54.3-65.5-54.3-14.7 0-26.7 1.7-41.4 4.6 2.9 18.6 2.2 36.7-10.9 50.3l19.5 5.5c-1.7 3.2-2.9 6.3-2.9 9.8 0 21 42.8 2.9 42.8 33.6 0 18.4-36.8 60.1-54.9 60.1-8 0-53.7-50-53.4-60.1l.3-4.6 52.3-11.5c13-2.6 12.3-22.7-2.9-22.7-3.7 0-43.1 9.2-49.4 10.6-2-5.2-7.5-14.1-13.8-14.1-3.2 0-6.3 3.2-9.5 4-9.2 2.6-31 2.9-21.5 20.1L15.9 298.5c-5.5 1.1-8.9 6.3-8.9 11.8 0 6 5.5 10.9 11.5 10.9 8 0 131.3-28.4 147.4-32.2 2.6 3.2 4.6 6.3 7.8 8.6 20.1 14.4 59.8 85.9 76.4 85.9 24.1 0 58-22.4 71.3-41.9 3.2-4.3 6.9-7.5 12.4-6.9.6 13.8-31.6 34.2-33 43.7-1.4 10.2-1 35.2-.3 41.1 26.7 8.1 52-3.6 77.9-2.9 4.3-21 10.6-41.9 9.8-63.5l-.3-9.5c-1.4-34.2-10.9-38.5-34.8-58.6-1.1-1.1-2.6-2.6-3.7-4 2.2-1.4 1.1-1 4.6-1.7 88.5 0 56.3 183.6 111.5 229.9 33.1-15 72.5-27.9 103.5-47.2-29-25.6-52.6-45.7-72.7-79.9m-196.2 46.1v27.2l11.8-3.4-2.9-23.8zm-68.7-150.4 24.1 61.2 21-13.8-31.3-50.9zm84.4 154.9 2 12.4c9-1.5 58.4-6.6 58.4-14.1 0-1.4-.6-3.2-.9-4.6-26.8 0-36.9 3.8-59.5 6.3"></path></svg> </a> <a class=md-social__link href=https://www.producthunt.com/@horacio_vasconcellos rel=noopener target=_blank title=www.producthunt.com> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M326.3 218.8c0 20.5-16.7 37.2-37.2 37.2h-70.3v-74.4h70.3c20.5 0 37.2 16.7 37.2 37.2M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248m-128.1-37.2c0-47.9-38.9-86.8-86.8-86.8H169.2v248h49.6v-74.4h70.3c47.9 0 86.8-38.9 86.8-86.8"></path></svg> </a> <a class=md-social__link href=https://gitlab.com/horaciovasconcellos rel=noopener target=_blank title=gitlab.com> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1s21.16-47.06 47.06-47.06h47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06S448 171 448 196.9s-21.16 47.06-47.06 47.06h-47.06zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06S309 480 283.1 480s-47.06-21.16-47.06-47.06v-47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06s21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06z"></path></svg> </a> <a class=md-social__link href=http://60pportunities.com.br rel=noopener target=_blank title=60pportunities.com.br> <svg viewbox="0 0 640 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"></path></svg> </a> <a class=md-social__link href rel=noopener target=_blank title> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.8l167.6-182.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4"></path></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent hidden id=__consent> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Consentimento</h4> <p>Utilizamos cookies para reconhecer as suas repetidas visitas e preferências, bem como para medir a eficácia da nossa documentação e se os usuários encontre o que eles estão procurando. Com o seu consentimento, você está nos ajudando a melhorar nossa documentação.</p> <input class=md-toggle id=__settings type=checkbox> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input checked name=analytics type=checkbox> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input checked name=github type=checkbox> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id=__config type=application/json>{"base": "../..", "features": ["announce.dismiss", "commit", "content.code.annotation", "content.code.copy", "search.highlight", "search.share", "search.suggest", "version", "content.footnote.tooltips"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../js/timeago.min.js></script> <script src=../../js/timeago_mkdocs_material.js></script> <script src=../../javascripts/tables.js></script> <script src=../../javascripts/tablesort.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script><script>document$.subscribe(() => {
            window.update_swagger_ui_iframe_height = function (id) {
                var iFrameID = document.getElementById(id);
                if (iFrameID) {
                    full_height = (iFrameID.contentWindow.document.body.scrollHeight + 80) + "px";
                    iFrameID.height = full_height;
                    iFrameID.style.height = full_height;
                }
            }

            let iframe_id_list = []
            var iframes = document.getElementsByClassName("swagger-ui-iframe");
            for (var i = 0; i < iframes.length; i++) {
                iframe_id_list.push(iframes[i].getAttribute("id"))
            }

            let ticking = true;

            document.addEventListener('scroll', function(e) {
                if (!ticking) {
                    window.requestAnimationFrame(()=> {
                        let half_vh = window.innerHeight/2;
                        for(var i = 0; i < iframe_id_list.length; i++) {
                            let element = document.getElementById(iframe_id_list[i])
                            if(element==null){
                                return
                            }
                            let diff = element.getBoundingClientRect().top
                            if(element.contentWindow.update_top_val){
                                element.contentWindow.update_top_val(half_vh - diff)
                            }
                        }
                        ticking = false;
                    });
                    ticking = true;
                }
            });

            const dark_scheme_name = "slate"

            window.scheme = document.body.getAttribute("data-md-color-scheme")
            const options = {
                attributeFilter: ['data-md-color-scheme'],
            };
            function color_scheme_callback(mutations) {
                for (let mutation of mutations) {
                    if (mutation.attributeName === "data-md-color-scheme") {
                        scheme = document.body.getAttribute("data-md-color-scheme")
                        var iframe_list = document.getElementsByClassName("swagger-ui-iframe")
                        for(var i = 0; i < iframe_list.length; i++) {
                            var ele = iframe_list.item(i);
                            if (ele) {
                                if (scheme === dark_scheme_name) {
                                    ele.contentWindow.enable_dark_mode();
                                } else {
                                    ele.contentWindow.disable_dark_mode();
                                }
                            }
                        }
                    }
                }
            }
            observer = new MutationObserver(color_scheme_callback);
            observer.observe(document.body, options);
            })</script></body> </html>
